<html layout:decorate="~{layout}">
    <div layout:fragment="content" class="container">
    <section class="hotel_list section_padding">
        <div>
            <h2 class="title">시장 요약 > </h2>
            <!-- TradingView Widget BEGIN -->
            <div class="tradingview-widget-container">
                <div class="tradingview-widget-container__widget"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js" async>
                  {
                  "symbols": [
                    [
                      "BINANCE:BTCUSDT|1D"
                    ],
                    [
                      "BINANCE:ETHUSD|1D"
                    ]
                  ],
                  "chartOnly": false,
                  "width": 1000,
                  "height": 500,
                  "locale": "kr",
                  "colorTheme": "light",
                  "autosize": false,
                  "showVolume": false,
                  "showMA": false,
                  "hideDateRanges": false,
                  "hideMarketStatus": false,
                  "hideSymbolLogo": false,
                  "scalePosition": "right",
                  "scaleMode": "Normal",
                  "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",
                  "fontSize": "10",
                  "noTimeScale": false,
                  "valuesTracking": "1",
                  "changeMode": "price-and-percent",
                  "chartType": "area",
                  "maLineColor": "#2962FF",
                  "maLineWidth": 1,
                  "maLength": 9,
                  "lineWidth": 2,
                  "lineType": 0,
                  "dateRanges": [
                    "1d|1",
                    "1m|30",
                    "3m|60",
                    "12m|1D",
                    "60m|1W",
                    "all|1M"
                  ]
                }
              </script>
            </div>
            <!-- TradingView Widget END -->
            <h2 class="title">모의투자 랭킹 > </h2>
			<button id="sortByBtc">BTC 랭킹</button>
			<button id="sortByEth">ETH 랭킹</button>
			<table id="rankingTable" th:fragment="rankingTable">
			    <thead>
			        <tr>
			            <th>랭킹</th>
			            <th>사용자명</th>
			            <th>평가금액</th>
			            <th>평가손익</th>
			            <th>수익율</th>
			        </tr>
			    </thead>
			    <tbody>
			        <tr th:each="ranking, stat : ${rankingList}">
			            <td th:text="${stat.count + 1}"></td>
			            <td th:text="${ranking.username}"></td>
			            <td th:text="${#numbers.formatDecimal(ranking.evaluationAmount, 0, 'COMMA')} + ' 원'"></td>
			            <td th:text="${#numbers.formatDecimal(ranking.profitLoss, 0, 'COMMA')} + ' 원'"></td>
			            <td th:text="${#numbers.formatDecimal(ranking.profitRate, 0, 'COMMA')} + ' %'"></td>
			        </tr>
			    </tbody>
			</table>
        </div>
    </section>
    </div>
</html>